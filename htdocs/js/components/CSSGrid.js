window["lorisjs"]=window["lorisjs"]||{};window["lorisjs"]["CSSGrid"]=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=142)}({0:function(module,exports){(function(){module.exports=window["React"]})()},1:function(module,exports,__webpack_require__){if(false){var throwOnDirectAccess,ReactIs}else{module.exports=__webpack_require__(12)()}},11:function(module,exports){function _setPrototypeOf(o,p){module.exports=_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o},module.exports.__esModule=true,module.exports["default"]=module.exports;return _setPrototypeOf(o,p)}module.exports=_setPrototypeOf,module.exports.__esModule=true,module.exports["default"]=module.exports},12:function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(13);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret===ReactPropTypesSecret){return}var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use PropTypes.checkPropTypes() to call them. "+"Read more at http://fb.me/use-check-prop-types");err.name="Invariant Violation";throw err}shim.isRequired=shim;function getShim(){return shim}var ReactPropTypes={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};ReactPropTypes.PropTypes=ReactPropTypes;return ReactPropTypes}},13:function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=ReactPropTypesSecret},14:function(module,exports,__webpack_require__){var arrayWithHoles=__webpack_require__(23);var iterableToArrayLimit=__webpack_require__(24);var unsupportedIterableToArray=__webpack_require__(21);var nonIterableRest=__webpack_require__(25);function _slicedToArray(arr,i){return arrayWithHoles(arr)||iterableToArrayLimit(arr,i)||unsupportedIterableToArray(arr,i)||nonIterableRest()}module.exports=_slicedToArray,module.exports.__esModule=true,module.exports["default"]=module.exports},142:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var slicedToArray=__webpack_require__(14);var slicedToArray_default=__webpack_require__.n(slicedToArray);var defineProperty=__webpack_require__(36);var defineProperty_default=__webpack_require__.n(defineProperty);var classCallCheck=__webpack_require__(3);var classCallCheck_default=__webpack_require__.n(classCallCheck);var createClass=__webpack_require__(4);var createClass_default=__webpack_require__.n(createClass);var assertThisInitialized=__webpack_require__(2);var assertThisInitialized_default=__webpack_require__.n(assertThisInitialized);var inherits=__webpack_require__(5);var inherits_default=__webpack_require__.n(inherits);var possibleConstructorReturn=__webpack_require__(7);var possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn);var getPrototypeOf=__webpack_require__(6);var getPrototypeOf_default=__webpack_require__.n(getPrototypeOf);var external_React_=__webpack_require__(0);var external_React_default=__webpack_require__.n(external_React_);var prop_types=__webpack_require__(1);var prop_types_default=__webpack_require__.n(prop_types);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}var Panel_Panel=function(_Component){inherits_default()(Panel,_Component);var _super=_createSuper(Panel);function Panel(props){var _this;classCallCheck_default()(this,Panel);_this=_super.call(this,props);_this.state={collapsed:_this.props.initCollapsed};_this.panelClass=_this.props.initCollapsed?"panel-collapse collapse":"panel-collapse collapse in";_this.toggleCollapsed=_this.toggleCollapsed.bind(assertThisInitialized_default()(_this));return _this}createClass_default()(Panel,[{key:"toggleCollapsed",value:function toggleCollapsed(){if(this.props.collapsing){this.setState({collapsed:!this.state.collapsed})}}},{key:"render",value:function render(){var glyphClass=this.state.collapsed?"glyphicon pull-right glyphicon-chevron-down":"glyphicon pull-right glyphicon-chevron-up";var title=this.props.bold?external_React_default.a.createElement("h3",{className:"panel-title"},this.props.title):this.props.title;var panelHeading=this.props.title?external_React_default.a.createElement("div",{className:"panel-heading",onClick:this.toggleCollapsed,"data-toggle":this.props.collapsing?"collapse":null,"data-target":"#"+this.props.id,"data-parent":this.props.parentId?"#"+this.props.parentId:false,style:{cursor:this.props.collapsing?"pointer":"default",height:"3em",fontWeight:"bold"}},title,this.props.collapsing?external_React_default.a.createElement("span",{className:glyphClass}):""):"";return external_React_default.a.createElement("div",{className:"panel "+this.props["class"],style:{height:this.props.panelSize}},panelHeading,external_React_default.a.createElement("div",{id:this.props.id,className:this.panelClass,role:"tabpanel",style:this.props.collapsing?{}:{height:"calc(100% - 3em)"}},external_React_default.a.createElement("div",{className:"panel-body",style:_objectSpread(_objectSpread({},this.props.style),{},{height:this.props.height})},this.props.children)))}}]);return Panel}(external_React_["Component"]);Panel_Panel.propTypes={initCollapsed:prop_types_default.a.bool,parentId:prop_types_default.a.string,id:prop_types_default.a.string,height:prop_types_default.a.string,title:prop_types_default.a.string,class:prop_types_default.a.string,collapsing:prop_types_default.a.bool,bold:prop_types_default.a.bool};Panel_Panel.defaultProps={initCollapsed:false,parentId:null,id:"default-panel",height:"100%",class:"panel-primary",collapsing:true,bold:false,title:""};var jsx_Panel=Panel_Panel;function Card_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Card_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Card_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Card_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function Card_createSuper(Derived){var hasNativeReflectConstruct=Card_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function Card_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}var Card_Card=function(_Component){inherits_default()(Card,_Component);var _super=Card_createSuper(Card);function Card(props){var _this;classCallCheck_default()(this,Card);_this=_super.call(this,props);_this.handleClick=_this.handleClick.bind(assertThisInitialized_default()(_this));return _this}createClass_default()(Card,[{key:"handleClick",value:function handleClick(e){if(this.props.onClick){this.props.onClick(e)}}},{key:"render",value:function render(){var cursorStyle=this.props.onClick?{cursor:"pointer"}:null;var divStyling={marginLeft:"5px",marginRight:"5px",boxSizing:"border-box"};if(this.props.style){divStyling=Card_objectSpread(Card_objectSpread({},divStyling),this.props.style)}if(this.props.cardSize){divStyling.height=this.props.cardSize}return external_React_default.a.createElement("div",{style:divStyling},external_React_default.a.createElement(jsx_Panel,{id:this.props.id,title:this.props.title,initCollapsed:this.props.initCollapsed,style:{overflow:"auto"},panelSize:this.props.cardSize,collapsing:this.props.collapsing},external_React_default.a.createElement("div",{onClick:this.handleClick,style:cursorStyle},this.props.children)))}}]);return Card}(external_React_["Component"]);Card_Card.propTypes={id:prop_types_default.a.string.isRequired,title:prop_types_default.a.string.isRequired,onClick:prop_types_default.a.func,initCollapsed:prop_types_default.a.bool};Card_Card.defaultProps={onClick:null,initCollapsed:false};var jsx_Card=Card_Card;function CSSGrid(props){var cardsRef=Object(external_React_["useRef"])(null);var _useState=Object(external_React_["useState"])(0),_useState2=slicedToArray_default()(_useState,2),cardWidth=_useState2[0],setCardWidth=_useState2[1];var _useState3=Object(external_React_["useState"])({}),_useState4=slicedToArray_default()(_useState3,2),panelHeights=_useState4[0],setPanelHeights=_useState4[1];Object(external_React_["useEffect"])((function(){if(cardsRef.current.childNodes.length<1){return}var wSize=cardsRef.current.childNodes[0].clientWidth;if(wSize==cardWidth){return}setCardWidth(wSize);var heights=Array.from(cardsRef.current.childNodes.values()).map((function(node){return node.firstChild.clientHeight}));setPanelHeights(heights)}));var grid={display:"grid",gridTemplateColumns:"33% 33% 33%",gridAutoFlow:"row dense",gridRowGap:"1em",rowGap:"1em"};var orderedCards=[];for(var i=0;i<props.Cards.length;i++){orderedCards.push(props.Cards[i]);if(!props.Cards[i].Order){orderedCards[i].Order=1}}orderedCards.sort((function(a,b){return a.Order-b.Order}));var lastLargeCardIdx=0;for(var _i=0;_i<orderedCards.length;_i++){if(orderedCards[_i].Width>=2){lastLargeCardIdx=_i}}var cards=orderedCards.map((function(value,idx){var cardID="card"+idx;var pSize;var style={};if(value.Width){style.gridColumnEnd="span "+value.Width;if(value.Width==1||value.Width===3){if(idx<lastLargeCardIdx){style.gridColumnStart=1}}else if(value.Width==2){style.gridColumnStart=2}}if(cardWidth!=0){var pxHeight=panelHeights[idx];var spanHeight=1;var hSpan=100;if(pxHeight%hSpan===0){spanHeight=pxHeight/hSpan}else{spanHeight=Math.floor(pxHeight/hSpan)+1}style.gridRowEnd="span "+spanHeight;pSize=spanHeight*hSpan}if(value.Order){style.order=value.Order}style.alignSelf="stretch";return external_React_default.a.createElement(jsx_Card,{title:value.Title,id:cardID,key:cardID,style,cardSize:pSize,collapsing:value.collapsing},value.Content)}));return external_React_default.a.createElement("div",{ref:cardsRef,style:grid},cards)}var jsx_CSSGrid=__webpack_exports__["default"]=CSSGrid},2:function(module,exports){function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}module.exports=_assertThisInitialized,module.exports.__esModule=true,module.exports["default"]=module.exports},20:function(module,exports){function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}module.exports=_arrayLikeToArray,module.exports.__esModule=true,module.exports["default"]=module.exports},21:function(module,exports,__webpack_require__){var arrayLikeToArray=__webpack_require__(20);function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return arrayLikeToArray(o,minLen)}module.exports=_unsupportedIterableToArray,module.exports.__esModule=true,module.exports["default"]=module.exports},23:function(module,exports){function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}module.exports=_arrayWithHoles,module.exports.__esModule=true,module.exports["default"]=module.exports},24:function(module,exports){function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}module.exports=_iterableToArrayLimit,module.exports.__esModule=true,module.exports["default"]=module.exports},25:function(module,exports){function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=_nonIterableRest,module.exports.__esModule=true,module.exports["default"]=module.exports},3:function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}module.exports=_classCallCheck,module.exports.__esModule=true,module.exports["default"]=module.exports},36:function(module,exports){function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}module.exports=_defineProperty,module.exports.__esModule=true,module.exports["default"]=module.exports},4:function(module,exports){function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor}module.exports=_createClass,module.exports.__esModule=true,module.exports["default"]=module.exports},5:function(module,exports,__webpack_require__){var setPrototypeOf=__webpack_require__(11);function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});Object.defineProperty(subClass,"prototype",{writable:false});if(superClass)setPrototypeOf(subClass,superClass)}module.exports=_inherits,module.exports.__esModule=true,module.exports["default"]=module.exports},6:function(module,exports){function _getPrototypeOf(o){module.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},module.exports.__esModule=true,module.exports["default"]=module.exports;return _getPrototypeOf(o)}module.exports=_getPrototypeOf,module.exports.__esModule=true,module.exports["default"]=module.exports},7:function(module,exports,__webpack_require__){var _typeof=__webpack_require__(8)["default"];var assertThisInitialized=__webpack_require__(2);function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}else if(call!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return assertThisInitialized(self)}module.exports=_possibleConstructorReturn,module.exports.__esModule=true,module.exports["default"]=module.exports},8:function(module,exports){function _typeof(obj){"@babel/helpers - typeof";return module.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},module.exports.__esModule=true,module.exports["default"]=module.exports,_typeof(obj)}module.exports=_typeof,module.exports.__esModule=true,module.exports["default"]=module.exports}});
//# sourceMappingURL=CSSGrid.js.map